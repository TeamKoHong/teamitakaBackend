openapi: 3.0.0
info:
  title: TEAMITAKA Backend API
  version: 1.5.0
  description: |
    TEAMITAKA 백엔드 API 문서

    ## 인증 방식
    대부분의 API는 JWT 토큰이 필요합니다. 로그인 후 받은 토큰을 Authorization 헤더에 포함하세요.

    ```
    Authorization: Bearer <your-jwt-token>
    ```

    ## 주요 기능
    - 사용자 인증 및 관리 (이메일, Google OAuth, Firebase 전화번호 인증)
    - 모집글 관리 (CRUD, 스크랩, 지원)
    - 프로젝트 관리 (팀원, Todo, Timeline)
    - 지원서 및 리뷰 시스템
    - 대학교 인증 시스템

    ## 환경
    - Production: https://teamitakabackend.onrender.com
    - Development: http://localhost:3000

    ## API 문서
    - Swagger UI: `/api-docs`

  contact:
    name: TEAMITAKA Team

tags:
  - name: Health
    description: 서버 상태 확인
  - name: Admin
    description: 관리자 전용 API
  - name: Auth
    description: 사용자 인증 (로그인, 회원가입, 이메일/전화번호 인증)
  - name: User
    description: 사용자 정보 관리
  - name: Recruitment
    description: 모집글 CRUD
  - name: Application
    description: 모집글 지원 관련
  - name: Project
    description: 프로젝트 관리
  - name: ProjectTodo
    description: 프로젝트 Todo 관리
  - name: ProjectTimeline
    description: 프로젝트 타임라인 관리
  - name: ProjectMember
    description: 프로젝트 멤버 관리
  - name: ProjectPost
    description: 프로젝트 게시글
  - name: Review
    description: 팀원 리뷰 시스템
  - name: Comment
    description: 모집글 댓글
  - name: Search
    description: 검색 기능
  - name: Profile
    description: 사용자 프로필
  - name: Scrap
    description: 모집글 스크랩
  - name: Draft
    description: 모집글 임시저장
  - name: Dashboard
    description: 대시보드
  - name: Upload
    description: 파일 업로드
  - name: Dev
    description: 개발 환경 전용 API

servers:
  - url: https://teamitakabackend.onrender.com/api
    description: Production 서버 (Render)
  - url: http://localhost:3000/api
    description: 로컬 개발 서버

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT 토큰을 사용한 인증

  schemas:
    Error:
      type: object
      properties:
        success:
          type: boolean
          example: false
        message:
          type: string

    Success:
      type: object
      properties:
        success:
          type: boolean
          example: true
        message:
          type: string

    User:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
        username:
          type: string
        email:
          type: string
          format: email
        role:
          type: string
          enum: [ADMIN, MEMBER]
        university:
          type: string
        major:
          type: string
        avatar:
          type: string
        bio:
          type: string
        skills:
          type: string
        portfolio_url:
          type: string
        phone_number:
          type: string
        phone_verified:
          type: boolean
        created_at:
          type: string
          format: date-time

    Recruitment:
      type: object
      properties:
        recruitment_id:
          type: string
          format: uuid
        title:
          type: string
        description:
          type: string
        status:
          type: string
          enum: [ACTIVE, CLOSED, FILLED]
          description: "ACTIVE: 모집중, CLOSED: 모집마감, FILLED: 모집완료"
        user_id:
          type: string
          format: uuid
        views:
          type: integer
        max_applicants:
          type: integer
        recruitment_start:
          type: string
          format: date
        recruitment_end:
          type: string
          format: date
        project_type:
          type: string
          enum: [course, side]
        photo_url:
          type: string
        created_at:
          type: string
          format: date-time

    Application:
      type: object
      properties:
        application_id:
          type: string
          format: uuid
        user_id:
          type: string
          format: uuid
        recruitment_id:
          type: string
          format: uuid
        status:
          type: string
          enum: [PENDING, APPROVED, REJECTED]
        introduction:
          type: string
        created_at:
          type: string
          format: date-time

    Project:
      type: object
      properties:
        project_id:
          type: string
          format: uuid
        title:
          type: string
        description:
          type: string
        user_id:
          type: string
          format: uuid
        start_date:
          type: string
          format: date
        end_date:
          type: string
          format: date
        status:
          type: string
          enum: [ACTIVE, COMPLETED, CANCELLED]
        created_at:
          type: string
          format: date-time

    Todo:
      type: object
      properties:
        todo_id:
          type: string
          format: uuid
        project_id:
          type: string
          format: uuid
        content:
          type: string
        is_completed:
          type: boolean

    Timeline:
      type: object
      properties:
        timeline_id:
          type: string
          format: uuid
        project_id:
          type: string
          format: uuid
        event_title:
          type: string
        description:
          type: string
        date:
          type: string
          format: date

    Review:
      type: object
      properties:
        review_id:
          type: string
          format: uuid
        project_id:
          type: string
          format: uuid
        reviewer_id:
          type: string
          format: uuid
        reviewee_id:
          type: string
          format: uuid
        ability:
          type: integer
          minimum: 1
          maximum: 5
        effort:
          type: integer
          minimum: 1
          maximum: 5
        commitment:
          type: integer
          minimum: 1
          maximum: 5
        communication:
          type: integer
          minimum: 1
          maximum: 5
        reflection:
          type: integer
          minimum: 1
          maximum: 5
        overall_rating:
          type: integer
          minimum: 1
          maximum: 5
        comment:
          type: string

    Comment:
      type: object
      properties:
        id:
          type: string
          format: uuid
        content:
          type: string
        user_id:
          type: string
          format: uuid
        recruitment_id:
          type: string
          format: uuid
        created_at:
          type: string
          format: date-time

paths:
  # ==================== Health ====================
  /:
    get:
      tags: [Health]
      summary: 서버 상태 확인
      responses:
        '200':
          description: 서버 정상 작동

  /health:
    get:
      tags: [Health]
      summary: DB 연결 상태 확인
      responses:
        '200':
          description: DB 연결 정상

  # ==================== Admin ====================
  /admin/login:
    post:
      tags: [Admin]
      summary: 관리자 로그인
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email, password]
              properties:
                email:
                  type: string
                  format: email
                password:
                  type: string
      responses:
        '200':
          description: 로그인 성공
        '401':
          description: 인증 실패

  /admin/certified-users:
    get:
      tags: [Admin]
      summary: 인증된 사용자 목록 조회
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 조회 성공
        '403':
          description: 관리자 권한 필요

  /admin/clear-verified-emails:
    delete:
      tags: [Admin]
      summary: 인증된 이메일 목록 초기화
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 초기화 성공

  # ==================== Auth ====================
  /auth/register:
    post:
      tags: [Auth]
      summary: 회원가입
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [username, email, password]
              properties:
                username:
                  type: string
                email:
                  type: string
                  format: email
                password:
                  type: string
                university:
                  type: string
                major:
                  type: string
      responses:
        '201':
          description: 회원가입 성공
        '400':
          description: 잘못된 요청

  /auth/login:
    post:
      tags: [Auth]
      summary: 로그인
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email, password]
              properties:
                email:
                  type: string
                  format: email
                password:
                  type: string
      responses:
        '200':
          description: 로그인 성공
        '401':
          description: 인증 실패

  /auth/me:
    get:
      tags: [Auth]
      summary: 현재 사용자 정보 조회
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 조회 성공
        '401':
          description: 인증 필요

  /auth/validate-password:
    post:
      tags: [Auth]
      summary: 비밀번호 유효성 검사
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [password]
              properties:
                password:
                  type: string
      responses:
        '200':
          description: 유효한 비밀번호
        '400':
          description: 유효하지 않은 비밀번호

  /auth/google/id-token:
    post:
      tags: [Auth]
      summary: Google OAuth 로그인
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [idToken]
              properties:
                idToken:
                  type: string
      responses:
        '200':
          description: 로그인 성공
        '401':
          description: 인증 실패

  /auth/phone/verify:
    post:
      tags: [Auth]
      summary: Firebase 전화번호 인증
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [idToken, phoneNumber]
              properties:
                idToken:
                  type: string
                  description: Firebase ID 토큰
                phoneNumber:
                  type: string
                  description: E.164 형식 전화번호 (예: +821012345678)
      responses:
        '200':
          description: 인증 성공
        '400':
          description: 인증 실패

  /auth/send-verification:
    post:
      tags: [Auth]
      summary: 이메일 인증코드 발송
      description: "Rate Limit: 분당 1회, 일일 제한 적용"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email]
              properties:
                email:
                  type: string
                  format: email
                purpose:
                  type: string
                  enum: [signup, login, change]
      responses:
        '200':
          description: 발송 성공
        '429':
          description: Rate Limit 초과

  /auth/verify-code:
    post:
      tags: [Auth]
      summary: 이메일 인증코드 확인
      description: "Rate Limit: 분당 5회"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email, code]
              properties:
                email:
                  type: string
                  format: email
                code:
                  type: string
      responses:
        '200':
          description: 인증 성공
        '400':
          description: 잘못된 인증코드
        '429':
          description: Rate Limit 초과

  /auth/status:
    get:
      tags: [Auth]
      summary: 이메일 인증 상태 확인
      parameters:
        - name: email
          in: query
          required: true
          schema:
            type: string
            format: email
      responses:
        '200':
          description: 상태 조회 성공

  /auth/resend-verification:
    post:
      tags: [Auth]
      summary: 이메일 인증코드 재발송
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email]
              properties:
                email:
                  type: string
                  format: email
      responses:
        '200':
          description: 재발송 성공
        '429':
          description: Rate Limit 초과

  # ==================== User ====================
  /user:
    get:
      tags: [User]
      summary: 전체 사용자 목록 조회
      responses:
        '200':
          description: 조회 성공

    post:
      tags: [User]
      summary: 사용자 생성
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [username, email, password]
              properties:
                username:
                  type: string
                email:
                  type: string
                password:
                  type: string
      responses:
        '201':
          description: 생성 성공

  /user/{id}:
    delete:
      tags: [User]
      summary: 사용자 삭제
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 삭제 성공
        '404':
          description: 사용자를 찾을 수 없음

  # ==================== Recruitment ====================
  /recruitments:
    get:
      tags: [Recruitment]
      summary: 전체 모집글 목록 조회
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum: [ACTIVE, CLOSED, FILLED]
        - name: project_type
          in: query
          schema:
            type: string
            enum: [course, side]
      responses:
        '200':
          description: 조회 성공

    post:
      tags: [Recruitment]
      summary: 모집글 생성
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [title, description]
              properties:
                title:
                  type: string
                description:
                  type: string
                max_applicants:
                  type: integer
                recruitment_start:
                  type: string
                  format: date
                recruitment_end:
                  type: string
                  format: date
                project_type:
                  type: string
                  enum: [course, side]
                photo_url:
                  type: string
      responses:
        '201':
          description: 생성 성공
        '401':
          description: 인증 필요

  /recruitments/mine:
    get:
      tags: [Recruitment]
      summary: 내 모집글 목록 조회
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 조회 성공
        '401':
          description: 인증 필요

  /recruitments/{recruitment_id}:
    get:
      tags: [Recruitment]
      summary: 모집글 상세 조회
      parameters:
        - name: recruitment_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공
        '404':
          description: 모집글을 찾을 수 없음

    put:
      tags: [Recruitment]
      summary: 모집글 수정
      security:
        - bearerAuth: []
      parameters:
        - name: recruitment_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                description:
                  type: string
                status:
                  type: string
                  enum: [ACTIVE, CLOSED, FILLED]
      responses:
        '200':
          description: 수정 성공
        '401':
          description: 인증 필요
        '403':
          description: 권한 없음

    delete:
      tags: [Recruitment]
      summary: 모집글 삭제
      security:
        - bearerAuth: []
      parameters:
        - name: recruitment_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 삭제 성공
        '401':
          description: 인증 필요
        '403':
          description: 권한 없음

  /recruitments/{recruitment_id}/applications:
    get:
      tags: [Recruitment]
      summary: 모집글 지원자 목록 조회
      security:
        - bearerAuth: []
      parameters:
        - name: recruitment_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공
        '401':
          description: 인증 필요

  # ==================== Application ====================
  /applications/{recruitment_id}:
    post:
      tags: [Application]
      summary: 모집글에 지원
      security:
        - bearerAuth: []
      parameters:
        - name: recruitment_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [introduction]
              properties:
                introduction:
                  type: string
                  minLength: 1
                  maxLength: 500
      responses:
        '201':
          description: 지원 성공
        '400':
          description: 이미 지원함 또는 본인 모집글
        '401':
          description: 인증 필요

    get:
      tags: [Application]
      summary: 모집글 지원자 조회
      security:
        - bearerAuth: []
      parameters:
        - name: recruitment_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공
        '401':
          description: 인증 필요

  /applications/{application_id}/approve:
    post:
      tags: [Application]
      summary: 지원 승인
      security:
        - bearerAuth: []
      parameters:
        - name: application_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 승인 성공
        '401':
          description: 인증 필요
        '403':
          description: 권한 없음

  /applications/{application_id}/reject:
    post:
      tags: [Application]
      summary: 지원 거절
      security:
        - bearerAuth: []
      parameters:
        - name: application_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 거절 성공
        '401':
          description: 인증 필요
        '403':
          description: 권한 없음

  # ==================== Project ====================
  /projects:
    get:
      tags: [Project]
      summary: 전체 프로젝트 목록 조회
      responses:
        '200':
          description: 조회 성공

    post:
      tags: [Project]
      summary: 프로젝트 생성
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                description:
                  type: string
                start_date:
                  type: string
                  format: date
                end_date:
                  type: string
                  format: date
      responses:
        '201':
          description: 생성 성공
        '401':
          description: 인증 필요

  /projects/mine:
    get:
      tags: [Project]
      summary: 내 프로젝트 목록 조회
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 조회 성공
        '401':
          description: 인증 필요

  /projects/completed:
    get:
      tags: [Project]
      summary: 완료된 프로젝트 목록 조회
      responses:
        '200':
          description: 조회 성공

  /projects/from-recruitment/{recruitment_id}:
    post:
      tags: [Project]
      summary: 모집글에서 프로젝트 생성
      security:
        - bearerAuth: []
      parameters:
        - name: recruitment_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '201':
          description: 생성 성공
        '401':
          description: 인증 필요

  /projects/{project_id}:
    get:
      tags: [Project]
      summary: 프로젝트 상세 조회
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공
        '404':
          description: 프로젝트를 찾을 수 없음

    put:
      tags: [Project]
      summary: 프로젝트 수정
      security:
        - bearerAuth: []
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                description:
                  type: string
                status:
                  type: string
                  enum: [ACTIVE, COMPLETED, CANCELLED]
      responses:
        '200':
          description: 수정 성공
        '401':
          description: 인증 필요

  # ==================== Project Todo ====================
  /projects/{project_id}/todo:
    get:
      tags: [ProjectTodo]
      summary: Todo 목록 조회
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공

    post:
      tags: [ProjectTodo]
      summary: Todo 추가
      security:
        - bearerAuth: []
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [content]
              properties:
                content:
                  type: string
      responses:
        '201':
          description: 생성 성공
        '401':
          description: 인증 필요

  /projects/{project_id}/todo/{todo_id}:
    put:
      tags: [ProjectTodo]
      summary: Todo 수정
      security:
        - bearerAuth: []
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: todo_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: string
                is_completed:
                  type: boolean
      responses:
        '200':
          description: 수정 성공
        '401':
          description: 인증 필요

    delete:
      tags: [ProjectTodo]
      summary: Todo 삭제
      security:
        - bearerAuth: []
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: todo_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 삭제 성공
        '401':
          description: 인증 필요

  # ==================== Project Timeline ====================
  /projects/{project_id}/timeline:
    get:
      tags: [ProjectTimeline]
      summary: 타임라인 조회
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공

    post:
      tags: [ProjectTimeline]
      summary: 타임라인 이벤트 추가
      security:
        - bearerAuth: []
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [event_title, date]
              properties:
                event_title:
                  type: string
                description:
                  type: string
                date:
                  type: string
                  format: date
      responses:
        '201':
          description: 생성 성공
        '401':
          description: 인증 필요

  /projects/{project_id}/timeline/{event_id}:
    put:
      tags: [ProjectTimeline]
      summary: 타임라인 이벤트 수정
      security:
        - bearerAuth: []
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: event_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                event_title:
                  type: string
                description:
                  type: string
                date:
                  type: string
                  format: date
      responses:
        '200':
          description: 수정 성공
        '401':
          description: 인증 필요

    delete:
      tags: [ProjectTimeline]
      summary: 타임라인 이벤트 삭제
      security:
        - bearerAuth: []
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: event_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 삭제 성공
        '401':
          description: 인증 필요

  # ==================== Project Member ====================
  /projects/{project_id}/members:
    get:
      tags: [ProjectMember]
      summary: 프로젝트 멤버 목록 조회
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공

    put:
      tags: [ProjectMember]
      summary: 멤버 역할 수정
      security:
        - bearerAuth: []
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [user_id, role]
              properties:
                user_id:
                  type: string
                  format: uuid
                role:
                  type: string
                  enum: [팀장, 팀원]
      responses:
        '200':
          description: 수정 성공
        '401':
          description: 인증 필요

  /projects/{project_id}/eval-targets:
    get:
      tags: [ProjectMember]
      summary: 평가 대상 목록 조회
      security:
        - bearerAuth: []
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공
        '401':
          description: 인증 필요

  # ==================== Project Post ====================
  /projects/{project_id}/posts:
    get:
      tags: [ProjectPost]
      summary: 프로젝트 게시글 목록 조회
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공

    post:
      tags: [ProjectPost]
      summary: 프로젝트 게시글 작성
      security:
        - bearerAuth: []
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [content]
              properties:
                content:
                  type: string
      responses:
        '201':
          description: 생성 성공
        '401':
          description: 인증 필요

  /projects/posts/{post_id}:
    get:
      tags: [ProjectPost]
      summary: 게시글 상세 조회
      parameters:
        - name: post_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공
        '404':
          description: 게시글을 찾을 수 없음

  # ==================== Review ====================
  /reviews:
    post:
      tags: [Review]
      summary: 리뷰 작성
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [project_id, reviewee_id, ability, effort, commitment, communication, reflection, overall_rating]
              properties:
                project_id:
                  type: string
                  format: uuid
                reviewee_id:
                  type: string
                  format: uuid
                role_description:
                  type: string
                ability:
                  type: integer
                  minimum: 1
                  maximum: 5
                effort:
                  type: integer
                  minimum: 1
                  maximum: 5
                commitment:
                  type: integer
                  minimum: 1
                  maximum: 5
                communication:
                  type: integer
                  minimum: 1
                  maximum: 5
                reflection:
                  type: integer
                  minimum: 1
                  maximum: 5
                overall_rating:
                  type: integer
                  minimum: 1
                  maximum: 5
                comment:
                  type: string
      responses:
        '201':
          description: 생성 성공
        '400':
          description: 자기 자신에게 리뷰 불가
        '401':
          description: 인증 필요

  /reviews/user/{user_id}:
    get:
      tags: [Review]
      summary: 사용자 리뷰 목록 조회
      security:
        - bearerAuth: []
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공
        '401':
          description: 인증 필요

  /reviews/project/{project_id}:
    get:
      tags: [Review]
      summary: 프로젝트 리뷰 목록 조회
      security:
        - bearerAuth: []
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공
        '401':
          description: 인증 필요

  /reviews/{review_id}:
    delete:
      tags: [Review]
      summary: 리뷰 삭제
      security:
        - bearerAuth: []
      parameters:
        - name: review_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 삭제 성공
        '401':
          description: 인증 필요
        '403':
          description: 권한 없음

  # ==================== Comment ====================
  /comments/{recruitment_id}:
    get:
      tags: [Comment]
      summary: 댓글 목록 조회
      parameters:
        - name: recruitment_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공

    post:
      tags: [Comment]
      summary: 댓글 작성
      security:
        - bearerAuth: []
      parameters:
        - name: recruitment_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [content]
              properties:
                content:
                  type: string
      responses:
        '201':
          description: 생성 성공
        '401':
          description: 인증 필요

  # ==================== Search ====================
  /search:
    get:
      tags: [Search]
      summary: 검색
      parameters:
        - name: q
          in: query
          required: true
          schema:
            type: string
          description: 검색어
        - name: type
          in: query
          schema:
            type: string
            enum: [recruitment, project, user]
      responses:
        '200':
          description: 검색 성공

  # ==================== Profile ====================
  /profile/{user_id}:
    get:
      tags: [Profile]
      summary: 사용자 프로필 조회
      security:
        - bearerAuth: []
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공
        '401':
          description: 인증 필요
        '404':
          description: 사용자를 찾을 수 없음

  /profile/{user_id}/ratings:
    get:
      tags: [Profile]
      summary: 사용자 평점 조회
      security:
        - bearerAuth: []
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공
        '401':
          description: 인증 필요

  /profile/{user_id}/projects:
    get:
      tags: [Profile]
      summary: 사용자 프로젝트 목록 조회
      security:
        - bearerAuth: []
      parameters:
        - name: user_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 조회 성공
        '401':
          description: 인증 필요

  # ==================== Scrap ====================
  /scraps/recruitments:
    get:
      tags: [Scrap]
      summary: 스크랩한 모집글 목록 조회
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 조회 성공
        '401':
          description: 인증 필요

  /scraps/recruitment/{recruitment_id}/scrap:
    put:
      tags: [Scrap]
      summary: 스크랩 토글
      security:
        - bearerAuth: []
      parameters:
        - name: recruitment_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: 스크랩 상태 변경 성공
        '401':
          description: 인증 필요

  # ==================== Draft ====================
  /drafts/recruitment/draft:
    post:
      tags: [Draft]
      summary: 모집글 임시저장
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                description:
                  type: string
      responses:
        '200':
          description: 저장 성공
        '401':
          description: 인증 필요

  # ==================== Dashboard ====================
  /dashboard/summary:
    get:
      tags: [Dashboard]
      summary: 대시보드 요약 정보 조회
      security:
        - bearerAuth: []
      responses:
        '200':
          description: 조회 성공
        '401':
          description: 인증 필요

  # ==================== Upload ====================
  /upload/recruitment-image:
    post:
      tags: [Upload]
      summary: 모집글 이미지 업로드
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                image:
                  type: string
                  format: binary
      responses:
        '200':
          description: 업로드 성공
        '400':
          description: 잘못된 파일 형식
        '401':
          description: 인증 필요

  # ==================== Dev ====================
  /dev/clear-verified-emails:
    delete:
      tags: [Dev]
      summary: 인증 이메일 초기화 (개발용)
      responses:
        '200':
          description: 초기화 성공

  /dev/test-sendgrid:
    post:
      tags: [Dev]
      summary: SendGrid 테스트 (개발용)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
      responses:
        '200':
          description: 테스트 성공
